#:kivy 2.1.0

<LeftSideBar>:
    is_opened: True

<RightSideBar>:
    nameField: nameField.__self__
    nodeIdField: nodeIdField.__self__
    descriptionField: descriptionField.__self__

    is_opened: False
    spacing: 4
    padding: 6
    Row:
        height: 40
        orientation: "rl-tb"
        WidgetBox:
            size: (40, 40)
            Button:
                size_hint: (None, None)
                size: (36, 36)
                text: "x"
                on_press: root.close_sideBar()
    Row:
        PropertyLabel:
            text: "Name:"
        PropertyTextInput:
            id: nameField
            sideBar: root
            property: "name"
            focus_previous: None
            focus_next: nodeIdField
    Row:
        PropertyLabel:
            text: "Id:"
        PropertyTextInput: 
            id: nodeIdField
            sideBar: root
            property: "nodeId"
            focus_previous: nameField
            focus_next: descriptionField
    # Row:
    #     PropertyLabel:
    #         text: "Cat:"
    #     PropertyTextInput: 
    Row:
        height: 160
        PropertyLabel:
            text: "Desc:"
            height: 32
        PropertyTextInput:
            id: descriptionField
            multiline: True
            sideBar: root
            property: "shortDescription"
            focus_previous: nodeIdField
            focus_next: None
    Row:
        height: 40
        orientation: "lr-tb"
        WidgetBox:
            size: (40, 40)
            Button:
                size_hint: (None, None)
                size: (36, 36)
                text: "del"
                on_press: root.delete_current_node()
    Widget:

<SideBar>:
    size_hint: (None, 1)
    width: 270 if self.is_opened else 0
    opacity: 1 if self.is_opened else 0

    orientation: "vertical"

    canvas.before:
        Color:
            rgb: .4, .4, .5
        Rectangle:
            size: self.size
            pos: self.pos
    
    
<Row@StackLayout>:
    spacing: 2
    padding: 4
    # orientation: "horizontal"
    orientation: "lr-tb"
    size_hint: (1, None)
    height: 32

<PropertyLabel@Label>:
    size_hint: (0.2, None)
    text_size: self.size
    halign: 'right'
    valign: 'middle'
    height: self.parent.height

<PropertyTextInput>:
    size_hint: (0.8, None)
    height: self.parent.height
    halign: "left"
    multiline: False
